# ä¸‹è½½æºç è‡ªè¡Œç¼–è¯‘å¯èƒ½é‡åˆ°çš„é—®é¢˜

> `iOS`ç¼–è¯‘æ¨èä½¿ç”¨`Xcode`è¿›è¡Œï¼›`Android`ç¼–è¯‘æ¨èä½¿ç”¨`Android Stuido`è¿›è¡Œ

### è¿™é‡Œä»¥`Android Studio`ä¸ºä¾‹

- ä¸‹è½½æºç åï¼Œä½¿ç”¨`Android
  studio`æ‰“å¼€é¡¹ç›®ï¼šFile->Open->é€‰æ‹©`amap_map_fluttify/example`.
- ç­‰å¾…`Android Studio`ç´¢å¼•å®Œæ¯•ï¼Œæ‰¾åˆ°`pubspec.yaml`æ–‡ä»¶ï¼Œç‚¹å‡»`Packages
  get`ï¼Œç­‰å¾…æ‰§è¡Œå®Œæ¯•
- ç­‰åˆ°æ­¤ Flutter é¡¹ç›®ä¸­ Dart
  ä»£ç ä¸å†æŠ¥é”™äº†å°±èƒ½åˆ†åˆ«ç¼–è¯‘`iOS`å’Œ`Android`äº†

#### ç¼–è¯‘ Android   

- ä½¿ç”¨`Android Studio`æ‰“å¼€`Android
  `é¡¹ç›®ï¼šFile->Open->é€‰æ‹©`amap_map_fluttify/example/android`
- ç­‰å¾… Gradle åŒæ­¥ 

åŒæ­¥è¿‡ç¨‹ä¸­å¯èƒ½é‡åˆ°å„ç§é—®é¢˜ï¼Œä¾‹å¦‚é«˜å¾·åœ°å›¾åº“ä¸­çš„å„ç§ç±»é‡å¤ï¼Œæ­¤æ—¶`Clean`ä¸€ä¸‹ Android
é¡¹ç›®ï¼Œç„¶åæœ€å¥½å†`Invalidate Caches\Restart`ï¼ŒåŸºæœ¬å°±èƒ½è§£å†³äº†ã€‚ å¦‚æœè¿˜ä¸è¡Œï¼Œæ‰¾åˆ°
Gradle
ç¼“å­˜æ–‡ä»¶å¤¹ï¼Œæˆ‘è‡ªå·±æ˜¯`/Users/{name}/.gradle/caches/modules-2/files-2.1/`ï¼Œæ‰¾åˆ°
console
ä¸­æŠ¥é”™çš„ç±»çš„åŒ…åï¼Œä»¥é«˜å¾·ä¸ºä¾‹ï¼Œcom.amap.apiï¼Œè¿›å…¥æ­¤åŒ…åæ–‡ä»¶å¤¹ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰å¤šä¸ªç‰ˆæœ¬çš„ç¼“å­˜ï¼Œå¤šä½™çš„èµ„æºç­‰ï¼Œå¦‚æœæœ‰å°±åˆ é™¤æ²¡æœ‰è¢«å¼•ç”¨çš„.
å¦‚æœè¿˜æ˜¯æœ‰é—®é¢˜ï¼Œæ‰¾åˆ° flutter çš„ pub-caches
æ–‡ä»¶å¤¹ï¼Œæˆ‘è‡ªå·±æ˜¯`/Users/{name}/.pub-cache/hosted/pub.flutter-io.cn`ï¼Œåœ¨é‡Œé¢æœç´¢æ— æ³•é€šè¿‡ç¼–è¯‘çš„ç±»/æ’ä»¶/packagesçš„åç§°ï¼Œä¼šå‘ç°å¯èƒ½å­˜åœ¨å¤šä¸ªç‰ˆæœ¬çš„ã€‚
`amap_map_fluttify`çš„`fluttify`å¼•æ“æ›´æ–°ï¼Œ`amap_map_fluttify`çš„ç‰ˆæœ¬æŠ¬å‡ç­‰ï¼Œéƒ½ä¼šæœ‰è¾ƒæ–°çš„ç‰ˆæœ¬è¢«åŒæ­¥ä¸‹æ¥ï¼Œæ­¤æ—¶å¯ä»¥é€‚å½“åˆ é™¤éå½“å‰æ‰€ä½¿ç”¨çš„ç‰ˆæœ¬åŒ….
å†æ¬¡å›åˆ°`Android`é¡¹ç›®åŒæ­¥å³å¯ï¼Œä¸€èˆ¬éƒ½èƒ½é€šè¿‡ç¼–è¯‘å¹¶ä¸”èƒ½æ­£å¸¸æ‰“åŒ….

#### ç¼–è¯‘ iOS   

- ä½¿ç”¨`Xcode`æ‰“å¼€`ios`é¡¹ç›®
- è¿æ¥çœŸæœº
- å·¦è¾¹è§†å›¾åˆ‡æ¢åˆ°`Project
  navigator`ä¸‹ï¼Œç‚¹å‡»`Runner(å¦‚æœæ²¡æœ‰ä¿®æ”¹åç§°çš„è¯)`ï¼Œç‚¹å‡»`TARGETS`ä¸‹çš„`Runner`ï¼Œé€‰æ‹©`Signing
  & Capabilities`ï¼Œç‚¹å‡»`All`ï¼Œä¿®æ”¹`Bundle Identifier`ï¼Œç„¶åé‡æ–°ç¼–è¯‘

ç¼–è¯‘è¿‡ç¨‹ä¸­å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é”™è¯¯ï¼Œå°±ç›®å‰æ¥çœ‹è¿™äº›é”™è¯¯å¸¦å…¥`Google`éƒ½èƒ½å¾—åˆ°è§£ç­”(æˆ‘ä¸æ˜¯ iOSerğŸ˜–)

---

### Swiftå·¥ç¨‹é›†æˆæ—¶, æŠ¥`æ— æ•ˆçš„èµ„æºbundleï¼Œè¯·æ£€æŸ¥AMap.bundleæ˜¯å¦æ­£ç¡®å¯¼å…¥ã€‚`

æ–¹æ¡ˆ1. æ³¨é‡Šæ‰ioså·¥ç¨‹çš„Podfileå†…çš„`use_frameworks!`.<br/>
æ–¹æ¡ˆ2. å‚è€ƒ [æ‰‹åŠ¨æ·»åŠ bundleåˆ°å·¥ç¨‹](https://lbs.amap.com/api/ios-sdk/guide/create-project/manual-configuration), æŠŠ`AMap.bundle`åŠ å…¥åˆ°ä¸»å·¥ç¨‹ä¸­.

### Swiftå·¥ç¨‹é›†æˆæ—¶, æŠ¥`The 'Pods-Runner' target has transitive dependencies that include statically linked binaries`

æ–¹æ¡ˆ1. æ³¨é‡Šæ‰ioså·¥ç¨‹çš„Podfileå†…çš„`use_frameworks!`.<br/>
æ–¹æ¡ˆ2. é‡æ–°åˆ›å»ºé¡¹ç›®, å¹¶é€‰æ‹©objc.

### é›†æˆæœ€æ–°ç‰ˆæœ¬æ—¶, æŠ¥`Because run depends on xxx_fluttify x.x.x which doesn't match any versions, version solving failed.`

æ–¹æ¡ˆ1: åœ¨å‘½ä»¤è¡Œè¿è¡Œ`flutter packages upgrade; flutter packages get`, è€Œä¸æ˜¯ä½¿ç”¨ideè·å–ä¾èµ–.<br/>
æ–¹æ¡ˆ2: å»æ‰å›½å†…é•œåƒæ¢æˆå®˜æ–¹æº, å³æ³¨é‡Šæ‰ç¯å¢ƒå˜é‡

```shell script
export PUB_HOSTED_URL=https://pub.flutter-io.cn
export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn
```

æ–¹æ¡ˆ3: ç­‰å¾…å›½å†…é•œåƒåŒæ­¥æœ€æ–°ç‰ˆæœ¬.

### ä½¿ç”¨æ¨¡æ‹Ÿå™¨, å´©æºƒ

ä½¿ç”¨çœŸæœºè°ƒè¯•.

### iOSç«¯é›†æˆåœ°å›¾, æŠ¥`Trying to embed a platform view but the PrerollContext does not support embedding`

çœ‹READMEæåˆ°çš„`Info.plist`é…ç½®.

### Androidç«¯æŠ¥`INVALID_USER_SCODE`

1. æ£€æŸ¥ç”³è¯·çš„é«˜å¾·keyæ˜¯å¦æ­£ç¡®<br/>
2. æ£€æŸ¥keyæ˜¯å¦é…ç½®åœ¨`<application>`æ ‡ç­¾ä¸‹, æœ‰çš„äººæ˜¯é…ç½®åˆ°`<activity>`ä¸‹äº†, å¯¼è‡´SDKæ²¡æœ‰å–åˆ°å€¼
